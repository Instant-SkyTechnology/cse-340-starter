<%- include('../partials/head') %>

    <body>
        <div id="wrapper">

            <%- include('../partials/header') %>
                <%- include('../partials/navigation') %>

                <main class="update-account">


                                    <h1>Update Account Information</h1>

                                    <% if (locals.errors) { %>
                                        <div class="notice">
                                            <ul>
                                                <% errors.array().forEach(error=> { %>
                                                    <li>
                                                        <%= error.msg %>
                                                    </li>
                                                    <% }) %>
                                            </ul>
                                        </div>
                                        <% } %>
                                    
                                            <% if (locals.message) { %>
                                                <div class="notice">
                                                    <%= message %>
                                                </div>
                                                <% } %>

                                    <!-- Account Update Form -->
                                    <form action="/account/update" method="post" class="login-form">
                                        <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

                                        <div class="form-group">
                                            <label for="account_firstname">First Name:</label>
                                            <input type="text" id="account_firstname" name="account_firstname" required
                                                value="<%= typeof account_firstname !== 'undefined' ? account_firstname : accountData.account_firstname %>">
                                        </div>

                                        <div class="form-group">
                                            <label for="account_lastname">Last Name:</label>
                                            <input type="text" id="account_lastname" name="account_lastname" required
                                                value="<%= typeof account_lastname !== 'undefined' ? account_lastname : accountData.account_lastname %>">
                                        </div>

                                        <div class="form-group">
                                            <label for="account_email">Email Address:</label>
                                            <input type="email" id="account_email" name="account_email" required
                                                value="<%= typeof account_email !== 'undefined' ? account_email : accountData.account_email %>">
                                        </div>

                                        <button type="submit" class="btn">Update Account</button>
                                    </form>

                                    <hr>
                                    
                                    <h1>Change Password</h1>

                                    <form action="/account/update-password" method="POST" class="login-form">
                                        <input type="hidden" name="account_id" value="<%= accountData.account_id %>">
                                    
                                        <label for="account_password">New Password:</label>
                                        <input type="password" name="account_password" id="account_password" required>
                                        <p>Password must be at least 8 characters, include uppercase, lowercase, and a
                                            number.</p>
                                    
                                        <button type="submit">Change Password</button>
                                    </form>

                </main>

                <%- include('../partials/footer') %>
        </div> <!-- #wrapper -->
        
    </body>